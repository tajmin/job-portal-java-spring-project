<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template="templates/angular-template.xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core">

	<ui:define name="content">
		<div style="">
			<button id="changePassLoad" data-toggle="change-password-modal">CLick me !!!</button>
		</div>
		<div class="reveal fast ease-in" id="" data-reveal="data-reveal"
		data-close-on-click="true" data-animation-in="wiggle" data-animation-out="slide-out-right" ng-controller="resetPasswordCtrl">
		<div class="medium-12 medium-centered columns" ng-if="!isproceed">
			<form name="resetPasswordForm">
				<div class="row">
					<div class="medium-12 columns text-left">
						<h4 id="changePassTitle">Reset Password</h4>
					</div>
				</div>
				<div class="row">
					<div class="medium-12 columns text-left">
						<h5 id="changePassInstruct">Write Your New Password</h5>
					</div>
				</div>
				<div class="row">
					<div class="medium-12 columns">
						<input name="password" ng-model="user.password" type="password" id="password" placeholder="Enter a password" aria-describedby="password-help-text" required="required" />
							
						<div ng-messages="formSubmitted &amp;&amp; resetPasswordForm.password.$error">
                        	<div ng-message="required" class="error">Password is required.</div>
                        </div>
					</div>
				</div>
				<div class="row">
					<div class="medium-12 columns">
						<input name="confirmPassword" type="password" ng-model="user.confirmPassword" placeholder="Retype your password" required="required" data-ng-match="password"/>
						<span class="error" data-ng-show="resetPasswordForm.confirmPassword.$error.match">Passwords do not match.</span>
					</div>
					<div class="small-12 columns">
						<p class="help-text" id="password-help-text">Password must be at least 8 characters long.</p>
					</div>
				</div>
				<ul class="global-message" style="white-space:normal">
					<span ng-repeat="m in restMessages"> 
						<li class="info-text info-modal">{{m.message}}</li>
					</span>								
				</ul>	
					
				<div class="row">
					<fieldset class="medium-12 columns">
						<div class="button-group">
							<a href="javascript:void(0);" ng-click="formSubmitted = true; resetPassword(resetPasswordForm.$valid);" class="button hlpr-color-success" >Submit</a>
							
						</div>
					</fieldset>
				</div>
			</form>
		</div>
		<div class="row" ng-if="isproceed">
			<div class="row">
				<div class="medium-12 medium-centered columns">
					<p id="forgotResponseMsg">{{responseMessage}} </p>
				</div>
			</div>
			<div class="row">
				<div class="small-4 small-centered columns">
					<img class="th" id="forgotPassImg" alt="" src="#{request.contextPath}/resources/assets/images/success.png" />
				</div>				
			</div>
			<div class="row">
				<fieldset class="medium-12 columns">
					<div class="button-group">
						<a href="javascript:void(0);" id="forgotPassOkBtn" class="button hlpr-color-success modal-close">Ok</a>
					</div>
				</fieldset>
			</div>
		</div> 
	</div>
	<script type="text/javascript">
	jQuery(document).ready( function( ) {
		$('#changePassLoad').click();	 } 
	);	
	</script>
	
	</ui:define>
</ui:composition>