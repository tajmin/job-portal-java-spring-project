<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template="templates/angular-template.xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core">

	<ui:define name="content">
		<div class="row wrapper-content" ng-controller="resetPasswordCtrl">
			<div class="medium-7 medium-centered columns" ng-if="!isproceed">
				<form name="resetPasswordForm">
					<div class="row">
						<div class="medium-12 columns text-center">
							<h2>Change Password</h2>
						</div>
					</div>
					
					<div class="row" ng-if="!isproceed">
						<div class="medium-6 columns">
							<label>Password</label>
							<input name="password" ng-model="user.password" type="password" id="password" placeholder="Enter a password" aria-describedby="password-help-text" required="required" />
								
							<div ng-messages="formSubmitted &amp;&amp; resetPasswordForm.password.$error">
                            	<div ng-message="required" class="error">Password is required.</div>
                        	</div>
						</div>
						<div class="medium-6 columns">
							<label>Confirm Password</label>
							<input name="confirmPassword" type="password" ng-model="user.confirmPassword" placeholder="Retype your password" required="required" data-ng-match="password"/>
							<span class="error" data-ng-show="resetPasswordForm.confirmPassword.$error.match">Passwords do not match.</span>
						</div>
						<div class="small-12 columns">
							<p class="help-text" id="password-help-text">Password must be at least 8 characters long.</p>
						</div>
					</div>
					
					<ul class="global-message" style="white-space:normal">
						<span ng-repeat="m in restMessages"> 
							<li class="info-text info-modal">{{m.message}}</li>
						</span>								
					</ul>
					
					<div class="row" ng-if="isproceed">
						<span>{{responseMessage}} </span>
						<div class="row">
							<fieldset class="medium-12 columns">
								<div class="button-group float-right">
									<a href="javascript:void(0);" class="button hlpr-color-info" >Ok</a>
								</div>
							</fieldset>
						</div>
					</div>
		
					<div class="row">
						<fieldset class="medium-12 columns">
							<div class="button-group float-right">
								<a href="javascript:void(0);" ng-click="formSubmitted = true; resetPassword(resetPasswordForm.$valid);" class="button hlpr-color-info" >Sign up</a>
								<a class="button hlpr-color-alert" href="index.xhtml">Cancel</a>
							</div>
						</fieldset>
					</div>
				</form>
				<!-- Sign up form ends here -->
			</div>
			
			<div class="medium-7 medium-centered columns" ng-if="isproceed">
					<span>{{responseMessage}} </span>
					<div class="row">
						<fieldset class="medium-12 columns">
							<div class="button-group float-right">
								<a href="javascript:void(0);" class="button hlpr-color-info" >Ok</a>
							</div>
						</fieldset>
					</div>
			</div>
		</div>
	</ui:define>
</ui:composition>