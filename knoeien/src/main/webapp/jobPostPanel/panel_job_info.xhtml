<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets">
	<div class="medium-7 medium-centered columns" ng-if="!isproceed">
		
			<div class="row" style="margin-top: 40px;">
				<div class="small-12 columns">
					<div class="small-5 columns" style="padding-left: 0">
						<div class="row">
							<div class="small-10 columns helper-form-field" ng-class="(formSubmitted &amp;&amp; jobPostingForm.title.$error.required == true)? 'error' : ''">
								<span ng-if="!titleEdit">
									<label class="helper-label" style="text-transform: capitalize;">{{job.title}}</label>
								</span>
								<input ng-if="titleEdit" type="text" class="" ng-model="job.title" name="title" required="required" />
								<div class="icon fi-info" ng-class="(formSubmitted &amp;&amp; jobPostingForm.title.$error.required == true)? '' : 'hide'"></div>
								<div ng-messages="formSubmitted &amp;&amp; jobPostingForm.title.$error">
		                            <div ng-message="required" class="error"><i class="bttm-icon fi-info"></i>Title is required</div>
		                        </div>
							</div>
							<div class="small-2 columns">
								<a ng-click="makeTitleEditable()" style="width: 25%;"><img src="#{request.contextPath}/resources/assets/images/edit.png" /></a>
							</div>
						</div>						
					</div>
					<div class="small-7 columns">
						<div class="row">
							<div class="small-6 columns text-right no-padding" style="padding: 0; padding-right: 10px" >
								<label for="jobImageFileUpload" class="middle" style="color: #6bbe54; font-weight: bold; cursor: pointer;">+ Add photo / switch image</label>
								<input type="file" id="jobImageFileUpload" class="show-for-sr" file-model = "imageFile" onchange="angular.element(this).scope().imageUpload(this)" />
							</div>
							<div class="small-6 columns text-right no-padding" style="padding: 0;">
								<input type="text" ng-model="imageUrl = fullImageUrl(job.imageUrl);"/>
							</div>
						</div>						
					</div>									
				</div>
				<div class="small-12 columns helper-form-field" ng-class="(formSubmitted &amp;&amp; jobPostingForm.description.$error.required == true)? 'error' : ''" >
					<label class="helper-label">Job Details</label>
					<textarea rows="3" ng-model="job.description" name="description" required="required" />
					<div class="icon fi-info" ng-class="(formSubmitted &amp;&amp; jobPostingForm.description.$error.required == true)? '' : 'hide'"></div>
					<div ng-messages="formSubmitted &amp;&amp; jobPostingForm.description.$error">
						<div ng-message="required"><i class="bttm-icon fi-info"></i>Job Details is required</div>
					</div>
				</div>
				<div class="small-12 columns helper-form-field">
					<label class="helper-label">Have you been awarded a sales code, put it here</label>
					<input type="text" ng-model="job.salesPromoCode" />					
				</div>

				<div class="small-12 columns helper-form-field" ng-class="(formSubmitted &amp;&amp; jobPostingForm.addressLine1.$error.required == true)? 'error' : ''">
					<label class="helper-label">Where do you need help?</label>
					<!-- <span class="input-group-label" style="font-size: 20px;"><i class="fi-marker"></i></span> --> 
					<input type="text" size="50" id="placesearch" ng-model="job.addressLine1" name="addressLine1" required="required" placeholder="" /> 
					<input type="hidden" id="latitude" name="latitude" ng-model="job.latitude" /> 
					<input type="hidden" id="longitude" name="longitude" ng-model="job.longitude" />
					<div class="icon fi-info" ng-class="(formSubmitted &amp;&amp; jobPostingForm.addressLine1.$error.required== true)? '' : 'hide'"></div>
					<div ng-messages="formSubmitted &amp;&amp; jobPostingForm.addressLine1.$error">
						<div ng-message="required"><i class="bttm-icon fi-info"></i>Location is required</div>
					</div>
				</div>
				<script type="text/javascript">
					function initialize() {
						var searchBox = document.getElementById('placesearch');
						var autocomplete =	new google.maps.places.Autocomplete(searchBox);
						var latitude;
						var longitude;
						
						google.maps.event.addListener(autocomplete, 'place_changed', function () {
				            var place = autocomplete.getPlace();
				            
				            latitude = place.geometry.location.lat();
				            longitude = place.geometry.location.lng();
				            console.log($("#placesearch").val());
				            document.getElementById('latitude').value = place.geometry.location.lat();
				            document.getElementById('longitude').value = place.geometry.location.lng();				            			
				        });												
					}
					google.maps.event.addDomListener(window, 'load', initialize);
					
					
					
					$(function() {
					    $( "#datepicker" ).fdatepicker({
					    	format: 'yyyy-mm-dd hh:mm:ss',
					    	pickTime: true,
					        weekStart: 0,
					        
					        });
					  });
						
			    	</script>
			</div>			
		
	</div>
</ui:composition>